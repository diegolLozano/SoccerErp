<app-navigation></app-navigation>
<div class="main-container">
  <div class="header-container">
    <p class="h1">{{ title }}</p>
  </div>
  <div class="form-container">
    <div *ngIf="isSuccess" class="alert alert-success text-center" role="alert">
      {{successMsg}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div *ngIf="isError" class="alert alert-danger text-center" role="alert">
      {{errorMsg}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <li *ngFor="let error of errors | keyvalue">
        {{ error.key }} - {{error.value}}
      </li>
    </div>
    <form
      #ligaForm="ngForm"
      novalidate
      (ngSubmit)="saveLiga(liga); ligaForm.reset()"
      class="needs-validation"
    >
      <div class="form-group row">
        <label for="nombre" class="offset-md-3 col-2 col-form-label"
          >Nombre</label
        >
        <div class="col-3">
          <input
            type="text"
            #nombre="ngModel"
            [(ngModel)]="liga.nombre"
            name="nombre"
            class="form-control"
            id="nombre"
            placeholder="Nombre"
            required
            minlength="3"
            [ngClass]="nombre.invalid && nombre.touched ? 'invalid-input' : ''"
          />
          <div *ngIf="nombre.invalid && nombre.touched" class="invalid-value">
            Nombre es Obligatorio, Minimo 3 Caracteres
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="Costo" class="offset-md-3 col-2 col-form-label"
          >Costo</label
        >
        <div class="col-3">
          <input
            type="number"
            #costo="ngModel"
            [(ngModel)]="liga.costo"
            name="costo"
            class="form-control"
            id="Costo"
            placeholder="Costo"
            required
            [ngClass]="costo.invalid && costo.touched ? 'invalid-input' : ''"
          />
          <div *ngIf="costo.invalid && costo.touched" class="invalid-value">
            Costo es Obligatorio, Debe de ser un numero valido
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="DiasSemana" class="offset-md-3 col-2 col-form-label"
          >Dias de la Semana</label
        >
        <div class="col-3">
          <input
            type="text"
            #diasDeSemana="ngModel"
            [(ngModel)]="liga.diasDeSemana"
            name="diasDeSemana"
            class="form-control"
            id="DiasSemana"
            placeholder="Dias de la Semana"
            required
            minlength="5"
            [ngClass]="
              diasDeSemana.invalid && diasDeSemana.touched
                ? 'invalid-input'
                : ''
            "
          />
          <div
            *ngIf="diasDeSemana.invalid && diasDeSemana.touched"
            class="invalid-value"
          >
            Dias De la Semana es Obligatorio, Minimo 5 Caracteres
          </div>
        </div>
      </div>
      <div class="form-group row">
        <div class="offset-md-5 col-3">
          <div class="btn-group mr-2" role="group" aria-label="First group">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="!ligaForm.form.valid"
            >
              <i class="far fa-save"></i> Guardar
            </button>
          </div>
          <div *ngIf="id != 0" class="btn-group mr-2" role="group" aria-label="First group">
            <button type="button" (click)="deleteLiga()" class="btn btn-danger">
              <i class="far fa-trash-alt"></i> Borrar
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
